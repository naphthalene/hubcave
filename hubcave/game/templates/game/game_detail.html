{% extends "base.html" %}
{% load sekizai_tags %}
{% load staticfiles %}

{% block head %}
{% if debug %}
<script src="{% static 'js/pixi.dev.js' %}"></script>
{% else %}
<script src="{% static 'js/pixi.js' %}"></script>
{% endif %}
<script src="{% static 'js/proton-1.0.0.min.js' %}"></script>
<link rel="stylesheet" type="text/css" href="{% static 'css/game.css' %}"/>
{% endblock head %}


{% block wrapper %}
<div class="col-lg-8">
  <div class="panel panel-default">
    <div class="panel-heading">{{ object.user.username }}/{{ object.repository }}</div>
    <div class="panel-body" id="game_panel">
      <div class="canvas-panel"></div>
    </div>
  </div>
</div>
<div class="col-lg-4">
  <div class="row">
    <div class="panel panel-default">
      <div class="panel-heading">Active Users</div>
      <div class="panel-body" id="active_users">
        <ul>
        </ul>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="panel panel-default">
      <div class="panel-heading">Chat</div>
      <div class="panel-body" id="room_chat">
        <div class="chat-panel">
          <input id="chat_input" type="text" class="form-control" placeholder="Chat here..."></input>
        </div>
        <ul>
        </ul>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  game_id = {{ object.id }};
  user_id = {{ user_id }};
  user_name = "{{ user_name }}";
</script>
{% addtoblock "js" %}
<script src="{% static 'js/keydrown.js' %}"></script>
{% block game_scripts %}
{% endblock %}
<script src="{% static 'js/bytebuffer.js' %}"></script>
<script src="{% static 'js/protobuf.js' %}"></script>
<script src="{% static 'js/game.js' %}"></script>
{% endaddtoblock %}
{% endblock %}
